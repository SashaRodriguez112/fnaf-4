<!DOCTYPE html>
<html>
  <!-- Copyright 2025 Benjamin Tjoa van games.benjamintjoa.com Alle rechten voorbehouden. -->
  <head>
    <title>Five Nights At Freddy 4</title>
    <link rel="icon" href="images/ico.ico" type="image/ico">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2ZVN9YPPTX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-2ZVN9YPPTX');
    </script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }
      iframe {
        width: 100%;
        height: 100%;
        border: none;
      }
      canvas {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <body>
    <iframe id="gameIframe" src="https://fnaf-4.github.io/games/FNAF4/index.html"></iframe>
    <audio id="audioElement" src="path/to/your/audiofile.mp3" controls></audio>
    <canvas id="visualizer" width="800" height="400"></canvas>

    <script>
      var audioElement = document.getElementById('audioElement');
      var canvas = document.getElementById('visualizer');
      var canvasCtx = canvas.getContext('2d');

      // Create an audio context
      var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      var analyser = audioCtx.createAnalyser();
      var source = audioCtx.createMediaElementSource(audioElement);

      source.connect(analyser);
      analyser.connect(audioCtx.destination);

      analyser.fftSize = 256;
      var bufferLength = analyser.frequencyBinCount;
      var dataArray = new Uint8Array(bufferLength);

      function draw() {
        requestAnimationFrame(draw);
        analyser.getByteFrequencyData(dataArray);

        canvasCtx.fillStyle = 'rgb(0, 0, 0)';
        canvasCtx.fillRect(0, 0, canvas.width, canvas.height);

        var barWidth = (canvas.width / bufferLength) * 2.5;
        var barHeight;
        var x = 0;

        for (var i = 0; i < bufferLength; i++) {
          barHeight = dataArray[i];

          canvasCtx.fillStyle = 'rgb(' + (barHeight + 100) + ',50,50)';
          canvasCtx.fillRect(x, canvas.height - barHeight / 2, barWidth, barHeight / 2);

          x += barWidth + 1;
        }
      }

      audioElement.onplay = function () {
        audioCtx.resume().then(() => {
          console.log('Playback resumed successfully');
        });
      };

      draw();
    </script>
  </body>
</html>
